<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Therapist Copilot - Demo Dashboard</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
        }

        .header {
            background: white;
            padding: 30px;
            border-radius: 12px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.1);
            margin-bottom: 30px;
            text-align: center;
        }

        h1 {
            color: #2d3748;
            font-size: 2.5em;
            margin-bottom: 10px;
        }

        .subtitle {
            color: #718096;
            font-size: 1.2em;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .stat-card {
            background: white;
            padding: 25px;
            border-radius: 12px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }

        .stat-value {
            font-size: 2.5em;
            font-weight: bold;
            color: #667eea;
            margin: 10px 0;
        }

        .stat-label {
            color: #718096;
            font-size: 0.9em;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .stat-change {
            color: #48bb78;
            font-size: 0.9em;
            margin-top: 5px;
        }

        .stat-change.negative {
            color: #f56565;
        }

        .content-grid {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 20px;
            margin-bottom: 30px;
        }

        .card {
            background: white;
            padding: 30px;
            border-radius: 12px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }

        .card h2 {
            color: #2d3748;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 3px solid #667eea;
        }

        .pattern-item {
            padding: 15px;
            background: #f7fafc;
            border-radius: 8px;
            margin-bottom: 15px;
            border-left: 4px solid #667eea;
        }

        .pattern-title {
            font-weight: bold;
            color: #2d3748;
            margin-bottom: 8px;
        }

        .pattern-severity {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 0.8em;
            font-weight: bold;
            margin-left: 10px;
        }

        .severity-low { background: #c6f6d5; color: #22543d; }
        .severity-moderate { background: #fed7aa; color: #7c2d12; }
        .severity-high { background: #feb2b2; color: #742a2a; }

        .pattern-description {
            color: #4a5568;
            font-size: 0.95em;
            line-height: 1.6;
        }

        .prompt-list {
            list-style: none;
        }

        .prompt-list li {
            padding: 12px;
            background: #f7fafc;
            border-radius: 6px;
            margin-bottom: 10px;
            border-left: 3px solid #48bb78;
            color: #2d3748;
        }

        .prompt-list li:before {
            content: "üí° ";
            margin-right: 8px;
        }

        .progress-indicator {
            margin: 20px 0;
        }

        .progress-bar {
            height: 30px;
            background: #e2e8f0;
            border-radius: 15px;
            overflow: hidden;
            position: relative;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #48bb78, #38a169);
            transition: width 0.5s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
        }

        .loading {
            text-align: center;
            padding: 40px;
            color: #718096;
        }

        .spinner {
            border: 4px solid #f3f3f3;
            border-top: 4px solid #667eea;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            animation: spin 1s linear infinite;
            margin: 20px auto;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .timeline {
            position: relative;
            padding-left: 30px;
        }

        .timeline-item {
            position: relative;
            padding-bottom: 20px;
            border-left: 2px solid #cbd5e0;
        }

        .timeline-item:last-child {
            border-left: 2px solid transparent;
        }

        .timeline-marker {
            position: absolute;
            left: -8px;
            width: 14px;
            height: 14px;
            border-radius: 50%;
            background: #667eea;
        }

        .timeline-content {
            margin-left: 25px;
        }

        .timeline-week {
            font-weight: bold;
            color: #2d3748;
            margin-bottom: 5px;
        }

        .timeline-summary {
            color: #4a5568;
            font-size: 0.9em;
        }

        @media (max-width: 768px) {
            .content-grid {
                grid-template-columns: 1fr;
            }

            .stats-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üß† Therapist Copilot</h1>
            <p class="subtitle">AI-Powered Journal Analysis Dashboard</p>
        </div>

        <div id="loading" class="card loading">
            <div class="spinner"></div>
            <p>Loading analysis data...</p>
        </div>

        <div id="dashboard" style="display: none;">
            <!-- Stats Overview -->
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-label">Weeks Analyzed</div>
                    <div class="stat-value" id="weeksAnalyzed">4</div>
                    <div class="stat-change">Full month coverage</div>
                </div>
                <div class="stat-card">
                    <div class="stat-label">Sentiment Trend</div>
                    <div class="stat-value" id="sentimentTrend">‚ÜóÔ∏è</div>
                    <div class="stat-change" id="sentimentChange">+45% improvement</div>
                </div>
                <div class="stat-card">
                    <div class="stat-label">Patterns Detected</div>
                    <div class="stat-value" id="patternsDetected">8</div>
                    <div class="stat-change">3 persistent, 5 resolved</div>
                </div>
                <div class="stat-card">
                    <div class="stat-label">Overall Progress</div>
                    <div class="stat-value" id="overallProgress">78%</div>
                    <div class="stat-change">Significant improvement</div>
                </div>
            </div>

            <!-- Main Content Grid -->
            <div class="content-grid">
                <!-- Left Column -->
                <div>
                    <!-- Mood Trajectory Chart -->
                    <div class="card">
                        <h2>üìà Mood Trajectory Over Time</h2>
                        <canvas id="moodChart"></canvas>
                    </div>

                    <!-- Key Patterns -->
                    <div class="card" style="margin-top: 20px;">
                        <h2>üéØ Key Patterns Identified</h2>
                        <div id="patternsList"></div>
                    </div>
                </div>

                <!-- Right Column -->
                <div>
                    <!-- Progress Timeline -->
                    <div class="card">
                        <h2>üìÖ Progress Timeline</h2>
                        <div class="timeline" id="timeline"></div>
                    </div>

                    <!-- Clinical Prompts -->
                    <div class="card" style="margin-top: 20px;">
                        <h2>üí° Clinical Action Items</h2>
                        <ul class="prompt-list" id="promptsList"></ul>
                    </div>
                </div>
            </div>

            <!-- Progress Indicator -->
            <div class="card">
                <h2>‚ú® Treatment Progress</h2>
                <div class="progress-indicator">
                    <div class="progress-bar">
                        <div class="progress-fill" id="progressBar" style="width: 0%">
                            0%
                        </div>
                    </div>
                </div>
                <p style="margin-top: 15px; color: #4a5568;">
                    Patient shows <strong id="progressDescription">significant improvement</strong>
                    across multiple metrics. Continue current treatment approach with adjustments as noted.
                </p>
            </div>
        </div>
    </div>

    <script>
        // Demo data (in production, this would come from the API)
        const demoData = {
            weeks: 4,
            sentimentScores: [-0.45, -0.25, -0.05, 0.15],
            weekLabels: ['Week 1', 'Week 2', 'Week 3', 'Week 4'],
            patterns: [
                {
                    title: "Social Anxiety & Avoidance",
                    severity: "high",
                    description: "Initially severe but showing marked improvement by Week 4. Patient progressed from complete isolation to actively engaging in social situations."
                },
                {
                    title: "Panic Attack Frequency",
                    severity: "moderate",
                    description: "Decreased from daily to occasional episodes. Patient now uses learned coping strategies effectively."
                },
                {
                    title: "Boundary Setting Skills",
                    severity: "low",
                    description: "Significant improvement. Patient demonstrates increased assertiveness and self-advocacy."
                }
            ],
            timeline: [
                { week: "Week 1", summary: "Baseline: High anxiety, isolation, daily panic attacks" },
                { week: "Week 2", summary: "Learning phase: Introduction to coping strategies, mixed results" },
                { week: "Week 3", summary: "Testing: First social engagement, some setbacks, building confidence" },
                { week: "Week 4", summary: "Integration: Consistent tool usage, improved mood, active social life" }
            ],
            prompts: [
                "Continue focus on exposure therapy for social anxiety",
                "Reinforce learned coping mechanisms for panic management",
                "Explore underlying fears around rejection and abandonment",
                "Build on recent wins to maintain momentum",
                "Monitor for potential setbacks during stressful periods"
            ]
        };

        // Initialize dashboard
        function initDashboard() {
            setTimeout(() => {
                document.getElementById('loading').style.display = 'none';
                document.getElementById('dashboard').style.display = 'block';

                renderMoodChart();
                renderPatterns();
                renderTimeline();
                renderPrompts();
                animateProgress();
            }, 1500);
        }

        // Render mood trajectory chart
        function renderMoodChart() {
            const ctx = document.getElementById('moodChart').getContext('2d');
            new Chart(ctx, {
                type: 'line',
                data: {
                    labels: demoData.weekLabels,
                    datasets: [{
                        label: 'Sentiment Score',
                        data: demoData.sentimentScores,
                        borderColor: '#667eea',
                        backgroundColor: 'rgba(102, 126, 234, 0.1)',
                        tension: 0.4,
                        fill: true,
                        pointRadius: 6,
                        pointHoverRadius: 8
                    }]
                },
                options: {
                    responsive: true,
                    plugins: {
                        legend: {
                            display: false
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: false,
                            min: -0.5,
                            max: 0.5,
                            ticks: {
                                callback: function(value) {
                                    if (value > 0) return '+' + value;
                                    return value;
                                }
                            }
                        }
                    }
                }
            });
        }

        // Render patterns
        function renderPatterns() {
            const container = document.getElementById('patternsList');
            container.innerHTML = demoData.patterns.map(pattern => `
                <div class="pattern-item">
                    <div class="pattern-title">
                        ${pattern.title}
                        <span class="pattern-severity severity-${pattern.severity}">${pattern.severity}</span>
                    </div>
                    <div class="pattern-description">${pattern.description}</div>
                </div>
            `).join('');
        }

        // Render timeline
        function renderTimeline() {
            const container = document.getElementById('timeline');
            container.innerHTML = demoData.timeline.map(item => `
                <div class="timeline-item">
                    <div class="timeline-marker"></div>
                    <div class="timeline-content">
                        <div class="timeline-week">${item.week}</div>
                        <div class="timeline-summary">${item.summary}</div>
                    </div>
                </div>
            `).join('');
        }

        // Render clinical prompts
        function renderPrompts() {
            const container = document.getElementById('promptsList');
            container.innerHTML = demoData.prompts.map(prompt =>
                `<li>${prompt}</li>`
            ).join('');
        }

        // Animate progress bar
        function animateProgress() {
            setTimeout(() => {
                const progressBar = document.getElementById('progressBar');
                progressBar.style.width = '78%';
                progressBar.textContent = '78%';
            }, 500);
        }

        // Initialize on load
        window.addEventListener('load', initDashboard);
    </script>
</body>
</html>
